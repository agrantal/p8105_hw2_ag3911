---
title: "p8105_hw2_ag3911"
output: github_document
---

#Problem 1: NYC Subway Transit 

##Read and Clean Data
*Keep line, station, name, station latitude/longitude, routes served, entry, vending, entrance type, and ADA compliance
*Convert entry variable from character (yes/no) to logical
```{r}
library(tidyverse)
getwd()
subway_data = read_csv("./hw2 data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%
  janitor::clean_names() %>%
  select(-division, -exit_only, -staffing, -staff_hours, -ada_notes, -entrance_location, -entrance_longitude, -entrance_latitude, -station_location, -corner, -east_west_street, -north_south_street, -free_crossover) %>%
  mutate(entry = recode(entry, "YES" = TRUE, "NO" = FALSE))
subway_data
```
This dataset contains the following variables: line, station name, station latitude/longitude, which of the 11 routes are served, entry (true/false), vending (yes/no), entrance type (elevator, stair, door), and ADA compliance (true/false). I omitted unnecessary variables using 'select' and recoded the entry variable from character to logical using 'mutate' and 'recode'. The resulting dataset is 1,868 rows x 19 columns. The data are not perfectly tidy but/because.....


##Q1: How many distinct stations are there? 
The first method I used to answer this was using 'group_by' and 'summarise'. This method generates 465 rows, each of which represents the number of distinct stations.
```{r}
subway_data %>%
    group_by(station_name, line) %>%
    summarise(n = n_distinct())
```
The second method I used to answer this (to confirm the results of my first method) was using 'nrow(distinct())'. This method generated the same answer: 465 distinct stations. 
```{r}
nrow(distinct(subway_data, station_name, line))
```

##Q2: How many stations are ADA compliant?
```{r}
subway_data %>%
    filter(ada == "TRUE") %>%
    group_by(station_name, line, ada) %>%
    summarise(n = n())
```
84 stations are ADA compliant. 


##Q3: What proportion of station entrances / exits without vending allow entrance?
```{r}
subway_data %>%
    filter(vending == "NO") %>%
    summarise(n = n())
# 183
subway_data %>%
    filter(vending == "NO", entry == "TRUE" ) %>%
    summarise(n = n())
# 69
```
There are 183 stations without vending and of those 69 allow entrance, so 69/183. 

##Reformat data so that route number and route name are distinct variables

##Q4: After reformatting the data so that route number and route name are distinct variables, how many distinct stations serve the A train?
```{r}
subway_data %>%
    filter (ada == "TRUE") %>%
    group_by(station_name, line, ada) %>%
    summarise(n = n())
```

##Q5: After reformatting the data so that route number and route name are distinct variables,  how many are ADA compliant? 



#Problem 2: Mr. Trashwheel 

##Read and Clean Data
```{r}
```

###specify the sheet in the Excel file and to omit columns containing notes (using the range argument and cell_cols() function)
```{r}
```

###omit rows that do not include dumpster-specific data
```{r}
```

###round the number of sports balls to the nearest integer and converts the result to an integer variable (using as.integer)
```{r}
```


##Read and Clean Precipitation Data for 2016 and 2017
```{r}
```

###For each year, omit rows without precipitation data and add a variable year.
```{r}
```

###For each year, combine datasets and convert month to a character variable
use the variable 'month.name' which is built into R
```{r}
```

###In a paragraph (use inline R), note the number of observations in both resulting datasets, and give examples of key variables. For available data, what was the total precipitation in 2017? What was the median number of sports balls in a dumpster in 2016?
```{r}
```



#Problem 3: Behavioral Risk Factors Surveillance System (BRFSS) for Selected Metropolitan Area Risk Trends (SMART), 2002-2010 

##Read and Clean BRFSS data
```{r}
```

###format the data to use appropriate variable names
```{r}
```

###exclude variables for class, topic, question, sample size, and everything from lower confidence limit to GeoLocation
```{r}
```

###structure data so that responses (excellent to poor) are variables taking the value of Data_value
```{r}
```

###create a new variable showing the proportion of responses that were “Excellent” or “Very Good”
```{r}
```


##How many unique locations are included in the dataset? Is every state represented? What state is observed the most?
```{r}
```

##In 2002, what is the median of the “Excellent” response value?
```{r}
```

##Make a histogram of “Excellent” response values in the year 2002.
```{r}
```

##Make a scatterplot showing the proportion of “Excellent” response values in New York County and Queens County (both in NY State) in each year from 2002 to 2010.
```{r}
```
















